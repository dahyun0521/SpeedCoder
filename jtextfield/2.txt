private static boolean isTcpPortAvailable(InetSocketAddress localAddress) {
    ServerSocket ss = null;
    try {
        ss = new ServerSocket();
        ss.setReuseAddress(false);
        ss.bind(localAddress);
        ss.close();
        ss = null;
        return true;
    } catch (Exception ignore) {
    } finally {
        if (ss != null) {
            try {
                ss.close();
            } catch (IOException ignore) {
            }
        }
    }

    return false;
}